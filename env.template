# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# Database Configuration (choose one option)
# Option 1: MySQL (recommended for Docker)
MYSQL_URL=mysql+mysqlconnector://telegram:telegram@db/telegram_chatbot
# Option 2: SQLite file (uncomment to use instead of MySQL)
# DB_PATH=./data/db/bot_database.db

# Ollama / AI provider configuration
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=deepseek-r1:1.5b
# Фильтровать thinking tokens из ответов reasoning моделей (deepseek-r1, qwen3 и т.д.)
OLLAMA_FILTER_THINKING=true

# Admins (comma-separated Telegram user IDs)
ADMIN_IDS=123456789

# Redis configuration (optional - закомментируйте для отключения)
# Если закомментировать обе переменные, Redis не будет использоваться
REDIS_HOST=redis
REDIS_PORT=6379

# RAG configuration (оптимальные дефолты для RU+EN под GPU)
RAG_MODEL_NAME=intfloat/multilingual-e5-base
RAG_ENABLE=true
RAG_MAX_CANDIDATES=80
RAG_RERANK_MODEL=BAAI/bge-reranker-base
# RAG device: 'cpu', 'cuda' (auto-select GPU), 'cuda:0', 'cuda:1' etc.
RAG_DEVICE=cuda

# RAG Chunking Configuration
RAG_CHUNK_SIZE=1800
RAG_CHUNK_OVERLAP=300
# Количество лучших результатов для контекста (рекомендуется 10–15 для лучшей релевантности)
RAG_TOP_K=12
# Максимальная длина контекста на источник в символах
RAG_CONTEXT_LENGTH=1500
RAG_ENABLE_CITATIONS=true
# Порог уверенности для ответа при наличии reranker (0–1)
RAG_MIN_RERANK_SCORE=0.15

# Logging (optional)
# LOG_MAX_BYTES=10485760   # 10 MB
# LOG_BACKUP_COUNT=5

# n8n integration (optional - закомментируйте N8N_BASE_URL для отключения)
# Если закомментировать N8N_BASE_URL, интеграция с n8n будет отключена
N8N_BASE_URL=http://n8n:5678
N8N_DEFAULT_WEBHOOK=bot-events
N8N_PUBLIC_URL=http://localhost:5678
# N8N_API_KEY=             # optional – only if you want to trigger workflows via API

# Docker / paths (only override if needed)
# BOT_DATA_DIR=/app/data
# HF_HOME=/app/data/cache/huggingface
# CODEBASE_ROOT=/app/code  # Optional root for local codebase indexing (read-only mount recommended)

# Backend service (используется ботом как фронтендом)
# Адрес backend-сервиса (в docker-compose по умолчанию http://backend:8000)
BACKEND_BASE_URL=http://backend:8000
BACKEND_API_PREFIX=/api/v1

# API key for securing bot → backend requests (optional but recommended)
# BACKEND_API_KEY=some-long-random-string

